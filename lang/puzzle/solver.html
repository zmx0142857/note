<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>纸笔</title>
  <link rel="stylesheet" href="../../css/note.css">
<style>
/* tabs */
.tabs {
  background: #181818;
}
.tabs .tabs-body {
  height: 600px;
}
.tabs .tabs-footer {
  border-left-color: #181818;
}
.tabs .tabs-body-item pre {
  background-color: rgba(0,0,0,0.2);
}
</style>
</head>
<body class="dark">

<div class="tabs">
  <div class="tabs-body">
    <div id="tabs-sudoku" class="tabs-body-item">
      <p>只返回第一个解</p>
      <div class="playground" type="textarea" rows="9" value="0 0 0 1 9 0 0 0 0
0 0 1 0 0 0 3 0 8
0 0 9 6 8 0 2 0 0
0 9 8 4 3 0 0 0 0
0 0 0 0 1 0 0 0 0
5 0 0 0 0 0 0 6 3
0 7 0 0 0 0 0 0 0
0 8 2 0 6 0 0 0 0
0 0 0 0 5 0 6 0 4" value2="9 0 0 0 1 8 0 3 0
0 0 0 0 7 0 2 0 0
0 0 2 5 0 0 0 0 0
1 0 0 0 0 0 0 4 3
0 0 6 0 0 0 0 0 0
0 0 0 0 8 0 0 9 1
0 2 0 4 0 0 5 0 0
0 0 0 0 0 0 0 7 0
4 0 1 6 0 3 0 0 0">
<script type="text">
module.exports = function (str) {
  const board = str.split('\n').map(row => row.trim()).filter(Boolean).map(row => row.split(' ').map(v => Number(v)))
  return solver.sudoku(board).map(row => row.join(' ')).join('\n')
}
</script>
      </div>
    </div>
    <div id="tabs-skyscraper" class="tabs-body-item">
      <p>只返回第一个解</p>
      <div class="playground" type="textarea" rows="10" value="  0 0 1 2
0 0 0 0 0 0
0 0 0 0 0 2
1 0 0 0 0 0
0 0 0 0 0 0
  0 0 3 0" value2="  3 0 0 2 0 0
4 0 0 0 0 0 0 0
2 0 0 0 0 0 0 0
0 0 0 3 0 0 0 0
0 0 0 0 6 1 0 0
4 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0
  0 3 3 2 0 3">
<script type="text">
module.exports = function (str) {
  const board = []
  const clues = []
  const left = []
  const right = []
  const input = str.split('\n').map(row => row.trim()).filter(Boolean)
  input.forEach((row, i) => {
    row = row.split(' ').map(v => Number(v))
    if (i === 0 || i === input.length - 1) return clues.push(row)
    left.push(row.shift())
    right.push(row.pop())
    board.push(row)
  })
  clues.push(left, right)
  return solver.skyscraper(board, clues).map(row => row.join(' ')).join('\n')
}
</script>
      </div>
    </div>
    <div id="tabs-maze" class="tabs-body-item">
      <p>'#' 代表墙, 空格代表地面, 'A' 代表起点, 'Z' 代表终点. 只返回一个解.</p>
      <div class="playground" type="textarea" rows="11" value="##############
#A#          #
# # ######## #
#   #      # #
# # # #### # #
# # #    # # #
# # #### # # #
# #      # # #
# #### ### # #
#          #Z#
##############">
<script type="text">
module.exports = function (str) {
  const board = str.split('\n').map(row => row.split(''))
  return solver.maze(board).map(row => row.join('')).join('\n')
}
</script>
      </div>
    </div>
    <div id="tabs-picross" class="tabs-body-item">
      <p>前面 m 行输入行线索, 然后输入一个空行, 后面 n 行输入列线索. 只返回第一个解.</p>
      <div class="playground" type="textarea" rows="10" value="1 1
1
1 1

1 1
1
1 1" value2="8
1 1
1
5
1
6
1
8
1
3

0
2 1
1 1
1 4 1
1 1 1 1
1 1 1 1
1 1 1 1 1
1 1 1 1 1
2 5
0" value3="5
9 6
11 10
26
15 11
7 3 11
6 6 1 11
5 10 1 1
18 14
11 1 3 3
10 11 8 2
10 2 1 1 2 1
9 1 11 8 2
12 25 1
9 6 4 5 2 5
11 2 6 2 4 4
13 7 2 9
12 12 14
13 10 1 11
15 2 3 2
21 13
19 14
18 17
37
37
38
38
10 23
9 6 14 1
8 3 7 3 4
8 2 2 7 6 1
8 11 5 1
9 10 6
16 12 1
21 3
33
32
28
23
13

24
25
27
28
31
32
35
36
26 7
5 6 13 3 6
6 4 1 12 4 6
5 5 2 11 2 1 6
6 4 1 1 1 9 1 2 7
5 4 1 3 1 8 1 2 7
5 4 1 3 1 8 2 1 7
5 3 1 3 2 7 2 1 7
5 3 1 3 2 8 1 2 6
4 3 1 2 3 8 1 2 6
4 3 1 2 4 2 5 1 2 6
4 2 1 7 1 6 1 2 6
3 2 1 7 1 6 2 1 6
1 2 1 1 8 8 1 2 5
3 1 2 8 8 1 2 5
5 1 1 2 4 9 1 2 5
6 7 2 9 1 2 5
6 3 5 10 1 2 4
6 2 1 16 2 1 4
6 1 1 3 1 11 1 1 4
6 1 1 3 2 10 1 1 4
6 1 1 2 2 10 1 1 3
5 1 1 2 2 9 2 1 2
5 1 1 2 4 9 1 2 2
4 1 1 7 9 1 2 1
2 1 1 7 9 1 1 1
2 1 2 4 9 1 1 1
2 1 2 5 6 2 1 1
2 1 7 5 1 3
2 6 3 2
3 5 3
6">
<script type="text">
module.exports = function (str) {
  const output = document.querySelector('#tabs-picross .playground-output')
  const lines = str.split('\n').map(row => row.trim())
  const index = lines.findIndex(row => !row)
  const rowClue = lines.slice(0, index).map(row => row.split(/\s+/).map(v => Number(v)))
  const colClue = lines.slice(index+1).filter(Boolean).map(row => row.split(/\s+/).map(v => Number(v)))
  output.style.lineHeight = ''
  const board = solver.picross(rowClue, colClue)
  output.style.lineHeight = '0.6em'
  return board.map(row => row.map(v => v === 0 ? '□' : '■').join('')).join('\n')
}
</script>
      </div>
    </div>
    <div id="tabs-lightsoff" class="tabs-body-item">
      <p>只返回第一个解.
      <a href="https://zhuanlan.zhihu.com/p/19820908" target="_blank">知乎: n*n 关灯问题的解</a>
      </p>
      <div class="playground" type="textarea" rows="10" value="1 1 1
1 1 1
1 1 1" value2="1 1 1 1 1
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1
1 1 1 1 1">
<script type="text">
module.exports = function (str) {
  const board = str.split('\n').map(row => row.trim()).filter(Boolean).map(row => row.split(' ').map(v => Number(v)))
  return solver.lightsoff(board).map(row => row.join(' ')).join('\n')
}
</script>
      </div>
    </div>
    <div id="tabs-starbattle" class="tabs-body-item">
      <div class="playground" type="textarea" rows="11" value=" ___________________
|     |_    |       |
|       |   |_      |
|_     _|     |_    |
| |___| |    _| |___|
|α  | | |___| |     |
|   | |_______|_    |
|   |   | |_    |_ _|
|  _|   |   |_____| |
| |⍶   _|   |       |
|___|_|_____|_______|">
<script type="text">
module.exports = function (str) {
  return 'TODO'
}
</script>
      </div>
    </div>
  </div>
  <div class="tabs-footer">
    <a class="tabs-footer-item active" href="#tabs-sudoku">数独</a>
    <a class="tabs-footer-item" href="#tabs-skyscraper">摩天楼</a>
    <a class="tabs-footer-item" href="#tabs-maze">迷宫</a>
    <a class="tabs-footer-item" href="#tabs-picross">数织</a>
    <a class="tabs-footer-item" href="#tabs-lightsoff">关灯</a>
    <a class="tabs-footer-item" href="#tabs-starbattle">星战</a>
  </div>
</div>

<script src="../../js/note.js"></script>
<script src="../../js/playground.js"></script>
<script src="../../js/puzzle/solver.js"></script>
</body>
</html>
