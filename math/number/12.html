<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8" />
  <title>理想的分解</title>
  <link rel="stylesheet" href="../../css/note.css"/>
</head>

<body>

<h2>理想的基本概念</h2>

<ol class="definition">
  <b>理想</b> 称环 `R` 的子集 `A` 为理想, 如果它满足
  <li>是 `R` 的加法子群: `AA a, b in A`, `a +- b in A`;</li>
  <li>吸收性质: `A R sube A`, 亦即 `AA a in A`, `AA r in R`, `a r in A`.</li>
  因此, 理想是一个子环, 且若 `a in A`, 则 `a` 的任意倍数都属于 `A`.
</ol>

<p class="remark">
  我们大胆地作一个「理想」的假定——
  以下总假定 `R` 为交换幺环.
</p>

<ol class="definition">
  <b>理想的运算</b> 设 `R` 为交换幺环, `A, B` 是 `R` 的理想,
  <li>`A nn B` 是同时含于 `A, B` 的最大理想;</li>
  <li>`A + B := {a + b | a in A, b in B}` 是同时包含 `A, B` 的最小理想;</li>
  <li>`A B := { sum_i a_i b_i (有限和) | a_i in A, b_i in B }` 也是 `R`
    的理想.</li>
  以上三种运算均满足交换律, 它们都能推广到有限个理想的情形.<br>
</ol>

<p class="proposition">
  `A, B` 是环 `R` 的理想, 则 `A B sube A nn B sube A + B`.
</p>

<ol class="proof">
  <li>`A nn B sube A sube A + B`;</li>
  <li>由理想的吸收性质, `A B sube A R sube A`, 类似有 `A B sube B`,
    因此 `A B sube A nn B`.<br>
    从元素的角度, 任取 `a in A`, `b in B`
    有 `a b in A nn B` 进而 `A B sube A nn B`.
  </li>
</ol>

<h3>理想的互素</h3>

<p class="definition">
  若 `R` 的理想之和 `A_1 + cdots + A_n = R`, 则称它们<b>互素</b>.
  从元素的角度, 理想互素当且仅当存在 `a_1 in A_1, cdots, a_n in A_n` 使
  `a_1 + cdots + a_n = 1`.
</p>

<p class="example">
  取 `R = ZZ`, `A = 2 ZZ`, `B = 3 ZZ` 为例, 有
  `A B = A nn B = 6 ZZ`, `A + B = ZZ`, 因此它们互素.
</p>

<ol class="remark">
  <li>这里 `A B = A nn B` 是巧合吗?</li>
  <li>`ZZ` 的理想都形如 `n ZZ` 吗, 这样的理想有什么优良性质 (主理想)?</li>
  <li>`2, 3` 是素数; 能不能在理想中定义类似概念 (素理想)?</li>
</ol>

<ol class="proposition">
  <li>`A, B` 是环 `R` 中互素的理想, 则 `A B = A nn B`;</li>
  <li>若理想 `A, B` 互素, `A, C` 也互素, 则 `A` 与 `B C` 互素;</li>
  <li>归纳知, 若 `A_1, cdots, A_n` 两两互素, 则
    `A_1 cdots A_n = A_1 nn cdots nn A_n`.
  </li>
</ol>

<ol class="proof">
  <li>只需证 `A B supe A nn B`.
    由于 `A, B` 互素, 可设 `1 = a + b`,
    任取 `s in A nn B`, 则 `s = (a + b) s = a s + s b` (有限和).
    故 `s in A B`.
  </li>
  <li>证明的启发来自初等数论. 设 `a_1 + b = 1`, `a_2 + c = 1`,
    相乘得 `(a_1 a_2 + a_1 c + a_2 b) + (b c) = 1`, 因此 `A` 与 `B C`
    互素.
  </li>
</ol>

<p class="theorem">
  <b>中国剩余定理</b>
  设环 `R` 的理想 `A_1, cdots, A_n` 两两互素, 则有商环间的同构
  <span class="formula">
    `f: R // nnn A_i to R//A_1 o+ cdots o+ R//A_n`,<br>
    `a + nnn A_i mapsto (a + A_1, cdots, a + A_n)`.
  </span>
</p>

<ol class="example">
  <li>`ZZ` 的每个理想形如 `n ZZ`, `n` 为非负整数;</li>
  <li>`m ZZ supe n ZZ iff m | n`.</li>
  <li>
    <span class="formula">
      `(m ZZ) (n ZZ) = (m n) ZZ`;<br>
      `m ZZ nn n ZZ = [m, n] ZZ` (最小公倍数);<br>
      `m ZZ + n ZZ = (m, n) ZZ` (最大公因数).
    </span>
    于是理想 `m ZZ`, `n ZZ` 互素当且仅当整数 `m, n` 互素.
  </li>
</ol>

<ol class="proof">
  <li>显然 `{0}` 是 `ZZ` 的理想. 设 `A` 是 `ZZ` 的非零理想, 取非零元素
  `a in A`, 则 `-a in A`. 这指出 `A` 中存在正整数.
  设 `n` 是 `A` 中最小正整数, 由吸收性质知道 `n ZZ sube A`.
  另一方面, 任取 `b = n q + r in A`, `q in ZZ`, `0 le r lt n`;
  由 `n q in A` 知 `r in A`. 这迫使 `r = 0`, 否则与 `n` 的最小性矛盾.
  于是 `b in n ZZ`. 综上 `A = n ZZ`.</li>
</ol>

<h3>素理想与极大理想</h3>

<ol class="definition">
  设 `A` 是环 `R` 的理想, `A != R`,
  <li>若不存在理想 `B` 满足 `A sub B sub R`, 则称 `A` 为<b>极大理想</b>;
  </li>
  <li>若 `AA a, b in R`, `a b in A rArr a in A or b in A`,
    则称 `A` 为<b>素理想</b>.
  </li>
  整环的零理想都是素理想.
</ol>

<ol class="example">
  考虑 `ZZ` 的理想 `n ZZ`.
  <li>若它为极大理想, 即不存在 `ZZ sup m ZZ sup n ZZ`, 亦即不存在
    `1 lt m lt n` 使得 `m | n`, 亦即 `n` 为素数.</li>
  <li>若它为素理想, 即 `AA a, b in ZZ`, `n | a b rArr n | a or n | b`,
    亦即 `n` 为素数.
  </li>
  综上 `ZZ` 的素理想和极大理想都形如 `p ZZ`, `p` 为素数.
</ol>

<p class="proposition">
  <b>素理想的等价条件</b>
  环 `R` 的理想 `P` 为素理想当且仅当对 `R` 的任意理想 `A`, `B` 都有
  <span class="formula">
    `A B sube P rArr A sube P or B sube P`.
  </span>
</p>

<p class="proposition">
  设 `A, B` 为环 `R` 的理想, 若 `P = A nn B` 为素理想,
  则 `P = A` 或 `P = B`. 此结论可推广到有限个理想.
</p>

<ol class="proposition">
  <b>用商环判定素理想/极大理想</b>
  设 `A` 是环 `R` 的理想,
  <li>`A` 是素理想 `iff R//A` 是整环 (Domain);</li>
  <li>`A` 是极大理想 `iff R//A` 是域.</li>
</ol>

<p class="corollary">
  极大理想都是素理想. 特别地, 由于<a href="../abstract/6.html#cor-finite-has-inv">有限整环是域</a>, 所以 `R` 有限时, 它的每个素理想都是极大理想.
</p>

<h3>ED, PID 与 UFD</h3>

<p class="definition">
  可以进行带余除法的整环称为 <b>Euclid 环 (Euclid Domain)</b>
</p>

<ol class="definition">
  <b>有限生成理想与主理想</b>
  设 `a_1, cdots, a_n in R`, 则
  <span class="formula">
    `(a_1, cdots, a_n) = a_1 R + cdots + a_n R`
  </span>
  是 `R` 的理想, 称为 `a_1, cdots, a_n` (有限个元素) 生成的理想.
  特别, 由一个元素生成的理想 `(a) = a R` 称为 `R` 的<b>主理想</b>.
  <li>每个理想均为有限生成的环称为 Noether 环;</li>
  <li>每个理想均为主理想的环称为主理想环;</li>
  若 `R` 是整环, 又是主理想环,
  则称它为<b>主理想整环 (Principal Ideal Domain, PID).</b>
</ol>

<ol class="example">
  <li>前面已经用带余除法证明 `ZZ` 是 PID;
    `ZZ` 的理想形如 `(n) = n ZZ`, `n` 是非负整数.</li>
  <li>类似可证, 域 `bbb F` 上的多项式环 `bbb F[x]` 是 PID.
    `bbb F[x]` 的理想形如 `(f(x)) = f(x) bbb F[x]`, `f(x)` 是首一多项式.
  </li>
  <li>幂级数环 `bbb F[[x]]` 是 PID.</li>
</ol>

<ol class="definition">
  <b>素元与唯一因子分解</b>
  设 `R` 为整环, `U(R)` 为 `R` 的单位群 (全体乘法可逆元素构成的群).
  <li>对于 `a, b in R`, 若存在 `epsi in U(R)` 使得 `a = epsi b`,
    则称 `a` 与 `b` 相伴, 记为 `a ~ b`.
  </li>
  <li>设 `p in R`, `p != 0`, `p !in U(R)`. 若 `p` 在 `R`
    中只有平凡分解, 即对任意 `a, b in R`,
    <span class="formula">
      `p = a b rArr a in U(R) or b in U(R)`,
    </span>
    亦即
    <span class="formula">
      `p = a b rArr a ~ p or b ~ p`.
    </span>
    则 `p` 称为 `R` 中的一个<b>素元</b>. 区别于素理想, 素元是一个元素.
  </li>
  <li>整环 `R` 是<b>唯一因子分解整环 (Uniquely Factorization Domain,
    UFD)</b>, 是指对每个 `a in R`, `a != 0`, `a !in U(R)`,
    `a` 可以表为有限个素元的乘积:
    <span class="formula">
      `a = p_1 cdots p_s`.
    </span>
    且不计各因子的次序, 上述分解是唯一的. 换言之, 若又有
    `a = q_1 cdots q_t`,
    则 `s = t`, 且适当调整 `q_1, cdots, q_t` 的次序, 可使
    `p_i ~ q_i`, `i = 1, cdots, s`.
  </li>
</ol>

<ol class="property">
  <b>主理想的性质</b>
  设 `a, b in R`, 有
  <li>`(a) sube (b) iff b | a`;</li>
  进一步设 `R` 为整环, 有
  <li>`(a) = (b) iff a ~ b`;</li>
  <li>`(a) = R iff a in U(R)`;</li>
</ol>

<ol class="proof">
  <li>`(a) sube (b)` `iff a in (b)` `iff b | a`.</li>
  <li>结论对零理想显然成立, 下设 `a, b != 0`.
    由 1 知 `a | b` 且 `b | a`.
    记 `b = epsi a`, `a = eta b`, 则
    `b = epsi eta b`. 又 `R` 为整环, 约去 `b` 得
    `epsi eta = 1`, 即 `epsi`, `eta` 互逆, 因此 `a ~ b`.
  </li>
  <li>`(a) = R` `iff 1 in (a)` `iff (a) = (1)` `iff a ~ 1` `iff a in U(R)`.</li>
</ol>

<p class="definition">
  <b>PID 上的最大公约数</b>: 任取 `a, b` in `R\\{0}`, 则存在 `d in RR\\{0}`
  使 `(d) = (a) + (b)`.  至多相差一个单位, 这样的 `d` 称为 `a, b`
  的最大公约数, `d = gcd(a, b)`.  由理想的定义, `R` 上成立裴蜀等式:
  存在 `x, y in R` 使
  <span class="formula">
    `a x + b y = d`.
  </span>
</p>

<p class="proposition">
  <b>PID 中非零素理想都是极大理想</b>
  设 `R` 为 PID, `(p)` 是它的非零素理想. 则 `p` 是素元, 进而
  `(p)` 是极大理想.
</p>

<ol class="proof">
  <li>
    若 `p = a b`, `a, b in R`, 则 `a b in (p)`. 由 `(p)` 为素理想知道 `a in
    (p) or b in (p)`.
    另一方面由 `p = a b` 有 `p in (a), p in (b)`, 综上有 `(a) = (p) or (b)
    = (p)`, 即 `a ~ p or b ~ p`. 故 `p` 是素元.
  </li>
  <li>若存在理想 `(q)` 使得 `(p) sube (q) sube R`, 则 `q | p`;
    但 `p` 为素元, 只能 `q ~ p` 或 `q in U(R)`;
    前者推出 `(q) = (p)`, 后者推出 `(q) = R`. 故 `(p)` 是极大理想.
  </li>
</ol>

<ol class="proposition">
  <li>PID `rArr` UFD;</li>
  <li>`R` 是 PID `rArr R[x]` 是 UFD.</li>
</ol>

<p class="example">
  `ZZ[x]`, `bbb F[x, y]` 是 UFD, 但均不是 PID.
  一般地, 域上的多元多项式环是 UFD 而非 PID.
</p>

<ol class="proof">
  事实上由于 `ZZ`, `bbb F[x]` 是 PID 知道 `ZZ[x]`, `bbb F[x, y]` 是 UFD.
  <li>
    `ZZ[x]` 不是 PID: `(2, x)` 不是主理想.
  </li>
  <li>
    `bbb F[x, y]` 不是 PID: `(x, y)` 不是主理想.
  </li>
</ol>

<p class="example">
  Gauss 整环 `ZZ[sqrt(-1)]` 是 PID. 但 `ZZ[sqrt(-5)]`, `ZZ[sqrt(-6)]`
  等甚至不是 UFD.
</p>

<p class="example">
  `n ge 3` 时, `ZZ[sqrt(-n)]` 不是 UFD.
</p>

<p class="proof">
  [来自 <a href="https://www.zhihu.com/question/444706799/answer/1732594155" target="_blank">知乎@慎独</a>]
  当 `n` 是大于 2 的偶数的时候，2 整除 `(sqrt(-n))^2` 但是不会整除
  `sqrt(-n)`,
  所以 2 是一个非素的不可约元. UFD 里不可约元都是素的, 所以不是 UFD.
  当 `n` 是大于 2 的奇数的时候，2 整除 `1+n=(1+sqrt(-n))(1-sqrt(-n))`,
  同样的 2 是非素的不可约元, 不是 UFD.
</p>

<p class="remark">
  当且仅当 `d = -1, -2, -3, -7, -11, -19, -43, -67, -163` 时,
  虚二次域 `QQ(sqrt d)` 的整数环为 UFD.
  我们将要了解到, `d -= 2, 3 (mod 4)` 时, `QQ(sqrt d)` 的整数环为 `ZZ[sqrt
  d]`, 它是 PID;
  而 `d -= 1 (mod 4)` 时它的整数环为 `ZZ[(1+sqrt d)/2]`, 这时 `ZZ[d]`
  不是整闭整环, 因而不是 UFD.
  综上 `d lt 0` 时只有 `ZZ[sqrt(-1)]`, `ZZ[sqrt(-2)]` 是 UFD.
</p>

<h2>Dedekind 整环</h2>

<h3>理想的唯一因子分解定理</h3>

<p>代数数论的一个重要问题是: 数域 `K` 的整数环 `O_K` 是否为 UFD?
  很遗憾, 在二次域和分圆域中都存在不是 UFD 的例子.
  为此 Kummer 提出 "理想数", 在 `ZZ[zeta_p]` 中,
  他的理想数有唯一因子分解的性质.
  后来 Dedekind 为 "理想数" 找到了更合适的定义, 即为环的<b>理想</b>.
  本节的主要结果是下述定理:
</p>

<p class="box">
  <b>理想的唯一因子分解定理</b>
  数域 `K` 的整数环 `O_K` 中每个非零理想都可以分解为有限个非零素理想的乘积,
  且不计素因子的次序, 该分解是唯一的.
</p>

<p>这一结论将分成多个定理来证明. 我们从 Dedekind 整环开始.</p>

<ol class="definition">
  满足下列性质的整环 `D` 称为 <b>Dedekind 整环</b>:
  <li>`D` 为 Noether 整环, 即它的每个理想都是有限生成的: `A = a_1 D + cdots + a_n D`;</li>
  <li>`D` 是整闭的, 即若 `a` 是 `D` 的分式域中元素, 且 `a` 在 `D` 上整, 则
    `a in D`;</li>
  <li>`D` 的非零素理想都是极大理想.</li>
</ol>

<ol class="property">
  设 `D` 是 Dedekind 整环, `A, B, C` 是它的理想, 有
  <li>`AA A`, `EE B` 使 `A B` 为主理想;</li>
  <li>(消去律) `A B = A C rArrB = C`;</li>
  <li>`A | B iff A supe B`; 这里 `A | B` 指 `EE C`, `B = A C`.</li>
</ol>

<ol class="proof">
  <li>
    ??
  </li>
  <li>若 `A B = A C`, 由 1. 知有理想 `I` 使 `A I = (a)`, `a != 0`.
    于是
    <span class="formula">
      `a B = A I B = A B I = A C I = A I C = a C`,
    </span>
    由 `a != 0` 和 `D` 是整环可知 `B = C`.
  </li>
  <li>`rArr`: 显然. `lArr`: 若 `A supe B`, 由 1. 有理想 `I` 使 `A I = (a)`,
    `a != 0`. 于是 `C = a^-1 B I` 是 `D` 中理想,
    且 `A C = a^-1 I A B = a^-1 a B = B`, 即 `A | B`.
  </li>
</ol>

<ol class="lemma">
  <b>Noether 环的等价条件</b> 设 `R` 是交换环, 以下三条等价:
  <li>`R` 是 Noether 环;</li>
  <li>(理想升链条件) 若 `R` 的一列理想满足 `A_1 sube A_2 sube cdots`,
    则存在 `n` 使得 `A_n = A_(n+1) = cdots`;
  </li>
  <li>(极大原则) `S` 是 `R` 中一些理想的非空集合, 则 `S` 中有极大元 A
    (不存在 `B in S` 使 `A sub B`).</li>
</ol>

<p class="theorem">
  整环 `D` 是 Dedekind
  整环当且仅当它的每个非零理想都可以分解为有限个非零素理想的乘积,
  且不计素因子的次序, 该分解是唯一的.
</p>

<ol class="proof">
  <li>分解的存在性. 令 `S` 是 `D` 中不能表成有限个素理想之乘积的理想 `I`
    的集合, `I != (0), D`. 反设 `S != O/`, 由 Noether 环的极大原则知 `S`
    有极大元 `M`; 设 `M` 含于极大理想 `P` 中. 现在 `P` 是素理想且 `P supe
    M`, 由 Dedekind 整环的性质 3. 知存在理想 `I` 使 `M = P I`, 从而 `M sube
    I`. 由 `P != D` 及 Dedekind 整环的消去律知 `M = P I != D I = I`, 于是
    `M sub I`. 但 `M` 是 `S` 中极大元, 因此 `I !in S`. 由 `S` 的定义,
    存在素理想 `P_1, cdots, P_n` 使
    <span class="formula">
      `I = P_1 cdots P_n`,
      `quad M = P I = P P_1 cdots P_n`,
    </span>
    与 `M in S` 矛盾. 因此 `S = O/`.
  </li>
  <li>分解的唯一性.
    设有两组非零素理想的乘积相等 `P_1 cdots P_r = Q_1 cdots Q_s`,
    则由 Dedekind 整环的性质 3, `P_1 sube Q_1 cdots Q_s`,
    `P_1` 必包含 `Q_1, cdots, Q_s` 中的一个.
    不妨设 `P_1 supe Q_1`, 由 Dedekind 整环的定义, `P_1`, `Q_1`
    均是极大理想, 所以 `P_1 = Q_1`. 然后由消去律得 `P_2 cdots P_r = Q_2
    cdots Q_s`. 依此进行下去, 得到 `r = s`, 且适当调整次序可使 `P_i = Q_i`,
    `i = 1, cdots, r`.
  </li>
  <li>下证若 `D` 满足唯一因子分解性质, 可推出 Dedekind 整环定义中的三个条件.
    ??
  </li>
</ol>

<p>
  因此, 要证 `O_K` 中理想的唯一因子分解定理, 只需验证 `O_K` 是 Dedekind
  整环.
</p>

<ol class="lemma">
  设 `O_K` 为数域 `K` 的整数环, `A` 为 `O_K` 的非零素理想, `n = [K: QQ]`.
  <li>`A` 的加法群是有限生成的:
    <span class="formula">
      `A = a_1 ZZ o+ cdots o+ a_n ZZ`,
    </span>
    从而 `A` 作为理想也是有限生成的:
    <span class="formula">
      `A = a_1 O_K + cdots + a_n O_K`.
    </span>
  </li>
  <li>商环 `O_K//A` 是有限环.</li>
</ol>

<ol class="proof">
  <li>
    由于 `O_K` 的加群是有限生成的:
    <span class="formula">
      `O_K = omega_1 ZZ o+ cdots o+ omega_n ZZ`,
    </span>
    根据有限生成 Abel 群的理论, `O_K` 的任意理想 `A`
    的加法群也是有限生成的, 且 `A` 可表为直和.
  </li>
  <li>
    取 `0 != a in A`, 记 `m = N(a)`, 则 `m`
    为正整数. 注意到 `m//a` 是 `a` 的一些共轭元素之积, 从而是代数整数, 又
    `m//a in K`, 于是 `m//a in O_K`. 从而 `m = a * (m//a) in A`, 即 `m O_K
    sube A`. 现在有
    <span class="formula">
      `O_K/(m O_K)`
      `= (omega_1 ZZ o+ cdots o+ omega_n ZZ)/(m omega_1 ZZ o+ cdots o+ m omega_n ZZ)`
      `cong (omega_1 ZZ)/(m omega_1 ZZ) o+ cdots (omega_n ZZ)/(m omega_n ZZ)`
      `cong overset n overbrace(ZZ//m ZZ o+ cdots o+ ZZ//m ZZ)`.
    </span>
    由环的同态定理和 `m O_K sube A sube O_K` 可知
    <span class="formula">
      `O_K/A cong (O_K//m O_K)/(A//m O_K)`,
    </span>
    从而 `|O_K//A| le |O_K//m O_K| = m^n`, 即 `O_K//A` 是有限交换环.
  </li>
</ol>

<p class="theorem">
  任意数域的整数环 `O_K` 是 Dedekind 整环.
</p>

<ol class="proof">
  我们验证 `O_K` 满足 Dedekind 整环的全部三个条件.
  记 `{omega_1, cdots, omega_n}` 是 `O_K` 的一组整基, `n = [K: QQ]`.
  <li>`O_K` 是 Noether 环: 由引理的 1. 可知.
  </li>
  <li>`O_K` 是整闭的: 参见上一章.</li>
  <li>`O_K` 的非零素理想 `P` 是极大理想:
    由 `P` 为 `O_K` 的非零素理想可知 `O_K//P` 为整环, 又由引理知 `O_K//P`
    有限.  但熟知有限整环是域, 所以 `O_K//P` 是域, `P` 为 `O_K` 的极大理想.
  </li>
</ol>

<h3>Dedekind 整环与 PID</h3>

<p class="theorem">
  PID `rArr` Dedekind 整环.
</p>

<p class="proof">
  我们验证主理想整环 `D` 满足 Dedekind 整环的全部三个条件.
  1, 3 是显然的, 下证 2.
  设 `F` 是 `D` 的分式域, 取 `u = a//b in F`, 其中 `a, b in D`,
  `b != 0`. 不妨令 `a, b` 互素. 若 `u` 在 `D` 上整, 设
  <span class="formula">
    `u^n + c_(n-1) u^(n-1) + cdots + c_1 u + c_0 = 0`,
    `quad c_i in D`.
  </span>
  于是
  <span class="formula">
    `a^n + c_(n-1) a^(n-1) b + cdots c_0 b^n = 0`,
  </span>
  这推出 `b | a^n`. 又由 `a, b` 互素知 `b` 为单位 (主理想整环的性质).
  于是 `c = a//b in D`, `D` 是整闭的.
</p>

<p class="theorem">
  若 `D` 是 Dedekind 整环, 则 `D` 为 PID 当且仅当 `D` 为 UFD.
</p>

<h3>素理想分解的例子</h3>

<p class="example">
</p>

<script src="../../js/note.js"></script>
</body>
</html>
